@using Microsoft.AspNet.Identity
@using System.Device.Location
@model thingslineWeb.Models.SettingUserDataModel

@if (Request.IsAuthenticated == false)
{
    //-----------------------------
    //ログインしていない場合の処理
    <meta http-equiv="refresh" content="0;URL=../Account/Login">
}
else
{

    <!DOCTYPE html>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.5.0/velocity.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.8.1/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" type="text/css" href="~/Content/SelectBOX001.css">

    <style type="text/css">
        /***********************/
        * {
            margin: 0;
            padding: 0;
        }

            *, *:before, *:after {
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                -moz-box-sizing: border-box;
                /*-ms-box-sizing: border-box;*/
                box-sizing: border-box;
            }

        html, body {
            height: 100%;
        }

        body {
            font-size: 14px;
            font-family: 'Lato','Hiragino Kaku Gothic Pro', 'ヒラギノ角ゴ Pro W3', Meiryo, メイリオ, Osaka, 'MS PGothic', arial, helvetica, sans-serif;
            background: #eee;
        }


        #container {
            background: #eee;
            margin-left: 260px;
            position: relative;
            -moz-transition: margin-left .25s linear;
            -webkit-transition: margin-left .25s linear;
            transition: margin-left .25s linear;
        }

        #main {
            background: #eee;
            padding-top: 0px;
            width: 100%;
        }

            #main p {
                margin-bottom: 1em;
                line-height: 1.9;
            }

            #main .inner {
                position: relative;
                top: 70px;
            }

        /* main-visual */
        #main-visual {
            padding-top: 40px;
            height: 100%;
            display: flex;
        }

        #global-head {
            position: fixed;
            color: #033560;
            width: 100%;
            padding: 0px 0px;
            background: #fff;
            display: -webkit-flex;
            display: flex;
        }

        #sidebar-T1 {
            padding-top: 40px;
            width: 260px;
            position: fixed;
            color: #afc3f2;
            background: #033560;
        }

        #BikeSeachMenu {
            -webkit-transition: .35s ease-in-out;
            -moz-transition: .35s ease-in-out;
            transition: .35s ease-in-out;
        }

        #global-nav ul {
            list-style: none;
            margin-left: 0;
        }

        #global-nav > ul > li {
            position: relative;
        }

        #global-nav a {
            color: #aeb4cb;
            text-decoration: none;
            display: block;
            padding: 15px;
            -moz-transition: color .3s linear;
            -webkit-transition: color .3s linear;
            transition: color .3s linear;
        }

            #global-nav .sub-menu-T1.is-active > a,
            #global-nav a:hover {
                color: #fff;
                /*background: #fff;*/
            }


        /* sub-menu-T1 icon */
        #global-nav .sub-menu-T1-head {
            position: relative;
        }

            #global-nav .sub-menu-T1-head:after {
                content: "";
                position: absolute;
                top: 0;
                bottom: 0;
                right: 18px;
                margin: auto;
                vertical-align: middle;
                width: 8px;
                height: 8px;
                border-top: 1px solid #aeb4cb;
                border-right: 1px solid #aeb4cb;
                -moz-transform: rotate(45deg);
                -webkit-transform: rotate(45deg);
                transform: rotate(45deg);
                -webkit-transition: .25s ease-in-out;
                -moz-transition: .25s ease-in-out;
                transition: .25s ease-in-out;
            }

            #global-nav .sub-menu-T1.is-active > a:after,
            #global-nav .sub-menu-T1-head:hover:after {
                border-color: #fff;
            }

        #global-nav .is-active .sub-menu-T1-head:after {
            -moz-transform: rotate(135deg);
            -webkit-transform: rotate(135deg);
            transform: rotate(135deg);
        }
        /* sub-menu-T1 */
        #global-nav .sub-menu-T1-nav {
            background: #032f55;
            display: none;
            padding: 10px 0;
            /*-moz-transition: all .4s ease;*/
            /*-webkit-transition: all .4s ease;*/
            /*transition: all .4s ease;*/
        }


            #global-nav .sub-menu-T1-nav a {
                color: #aeb4cb;
                padding: 8px 15px;
            }

                #global-nav .sub-menu-T1-nav a:hover {
                    color: #fff;
                }


        /* nav-toggle */
        #nav-toggle {
            position: fixed;
            top: 70px;
            left: 15px;
            height: 32px;
        }

            #nav-toggle > div {
                position: relative;
                width: 32px;
            }

            #nav-toggle span {
                width: 100%;
                height: 2px;
                left: 0;
                display: block;
                background: #fff;
                position: absolute;
                -webkit-transition: .35s ease-in-out;
                -moz-transition: .35s ease-in-out;
                transition: .35s ease-in-out;
            }

                /* #nav-toggle closeSM */
                #nav-toggle span:nth-child(1) {
                    top: 0;
                    /*
            -webkit-transform: rotate(45deg);
            -moz-transform: rotate(45deg);
            transform: rotate(45deg);
            */
                }

                #nav-toggle span:nth-child(2) {
                    top: 11px;
                    /*
            width: 0;
            left: 50%;
            */
                }

                #nav-toggle span:nth-child(3) {
                    top: 22px;
                    /*
            -webkit-transform: rotate(-45deg);
            -moz-transform: rotate(-45deg);
            transform: rotate(-45deg);
            */
                }

        /* z-index */
        #nav-toggle {
            z-index: 1000;
        }

        #container {
            z-index: 900;
        }

        /* closeSM */
        .closeSM #container {
            margin-left: 0px;
        }

        .closeSM #BikeSeachMenu {
            margin-left: 70px;
        }

        .closeSM #nav-toggle span {
            background: #033560;
        }

        @@media screen and (max-width: 900px) {
            #container {
                margin-left: 0px;
            }

            #BikeSeachMenu {
                margin-left: 70px;
            }

            #nav-toggle span {
                background: #033560;
            }

            .closeSM #nav-toggle span {
                background: #fff;
            }

            #sidebar-T1 {
                left: -260px;
                z-index: 910;
                -webkit-transition: .35s ease-in-out;
                -moz-transition: .35s ease-in-out;
                transition: .35s ease-in-out;
            }

            .closeSM #sidebar-T1 {
                left: 0px;
            }
        }

        @@media screen and (max-width: 400px) {
        }
    </style>

    <body>

        <!--サイドサブメニューアコーディオン-->
        <script type="text/javascript">


            const myFunc = () => {
                let wh = window.innerHeight - 60;
                let elem2 = document.getElementById("container");
                elem2.style.height = wh + "px";

                let elem = document.getElementById("sidebar-T1");
                elem.style.height = wh + "px";

            };

            window.addEventListener("load", myFunc, false);
            window.addEventListener("resize", myFunc, false);


        </script>
        <!--サイドサブメニューアコーディオン-->
        <script type="text/javascript">
            (function ($) {
                $(function () {
                    $('.sub-menu-T1-head').on('click', function () {
                        var $subNav = $(this).next('.sub-menu-T1-nav');
                        if ($subNav.is(':visible')) {
                            $subNav.velocity('slideUp', { duration: 200 });
                            $(this).parent('li').removeClass('is-active');
                        }
                        else {
                            $subNav.velocity('slideDown', { duration: 200 });
                            $(this).parent('li').addClass('is-active');
                        }
                        return false;
                    });

                    $('.scroll').perfectScrollbar();

                    // サイドサブメニューアコーディオン
                    $('#nav-toggle').on('click', function () {
                        $('body').toggleClass("closeSM");
                    });

                    $('.scroll').perfectScrollbar();
                });
            })(jQuery);
        </script>

        <div id="nav-toggle">
            <div>
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>

        <div id="sidebar-T1" style="overflow-y:scroll">
            <nav id="global-nav">
                <ul>

                    <div class="cp_ipselect cp_sl03">
                        <select required>
                            <option value="" hidden>Choose</option>
                            <option value="1">cat</option>
                            <option value="2">dog</option>
                            <option value="3">rabbit</option>
                            <option value="4">squirrel</option>
                        </select>
                    </div>

                    <li class="sub-menu-T1">
                        <a href="#" class="sub-menu-T1-head">移動履歴２</a>
                        <ul class="sub-menu-T1-nav">
                            <li><a href="#"> Product 1</a></li>
                            <li><a href="#"> Product 2</a></li>
                        </ul>
                    </li>

                    <li class="sub-menu-T1">
                        <a href="#" class="sub-menu-T1-head">About</a>
                        <ul class="sub-menu-T1-nav">
                            <li><a href="#">About 1</a></li>
                            <li><a href="#">About 2</a></li>
                        </ul>
                    </li>

                    <li class="sub-menu-T1">
                        <a href="#" class="sub-menu-T1-head">Products</a>
                        <ul class="sub-menu-T1-nav">
                            <li><a href="#">Product 1</a></li>
                            <li><a href="#">Product 2</a></li>
                        </ul>
                    </li>

                    <li><a href="#">Link</a></li>
                    <li><a href="#">Contact</a></li>

                </ul>
            </nav>
        </div>

        <!-- メイン -->
        <div id="container">

            <main id="main">

                @using (Html.BeginForm("index", "Setting", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "form-horizontal", role = "form", id = "Settingform", enctype = "multipart/form-data" }))
                {
                    <table border="1" width="500" cellspacing="0" cellpadding="5" bordercolor="#333333">
                        <tr>
                            <td align="right" nowrap>login_userID</td>
                            <td>@ViewBag.retSettingUserDataModel.UserID</td>
                        </tr>
                        @foreach (var item in ViewBag.retSettingUserDataModel.UserInfo)
                        {
                            <tr>
                                <td align="right" nowrap>userID</td>
                                <td align="right" nowrap>@item.userID</td>
                            </tr>
                            <tr>
                                <td align="right" nowrap>name1</td>
                                <td align="right" nowrap>
                                    @item.name1
                                </td>
                                <td align="right" nowrap>
                                    <input type="text" id="name1" name="UserInfo.name1" value="@item.name1">
                                </td>
                            </tr>
                            <tr>
                                <td align="right" nowrap>name2</td>
                                <td align="right" nowrap>@item.name2</td>
                                <td align="right" nowrap>
                                    @Html.EditorFor(model => model.UserInfo)
                                </td>
                            </tr>
                            <tr>
                                <td align="right" nowrap>nickname</td>
                                <td align="right" nowrap>@item.nickname</td>
                            </tr>
                            <tr>
                                <td align="right" nowrap>Email</td>
                                <td align="right" nowrap>@item.Email</td>
                            </tr>
                        }
                    </table>
                    <input type="submit" value="更新" />
                }
            </main>

        </div>



    </body>
}
